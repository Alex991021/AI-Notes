## 1 摘要

### 1.1  框架

1. 为何需要这项技术？
2. 这篇文章提出了什么创新的方法来完成这项工作?
3. 分别介绍每个模块的主要作用
4. 介绍实验分析与优点

### 1.2 内容

为了在道路上导航，自动驾驶车辆必须能够感知和识别三维环境中的物体，对周围环境高层次的理解对于计划和执行准确的驾驶很有必要，目前常用的方法是基于雷达和相机融合构建的语义地图来感知周围环境。这种方法主要分为 4 个模块：首先，我们需要标定雷达和相机，以保证 2 者的坐标系对齐。然后使用 CNN  对图像进行语义分割并获取每个像素标签的概率分布。第三步将每个像素的语义信息和概率分布与对齐的点云进行数据关联，以此获得语义点云。最后，我们把获取的语义点云作为八叉树地图构建算法的输入，该算法会自动更新节点的占据和标签概率，并完成增量式的地图构建。我们在自己的平台和公开的 KITTI 数据集都进行了测试，验证了该方法的有效性。

## 2 文献检索

### 2.1 框架

- 用什么关键字检索？或者从哪一篇论文开始检索？
- 检索得到哪些结果？如何过滤检索结果？得到哪些有用的信息？
- 目前你检索的领域的研究现状如何？热度如何？主要有哪些大牛？ 
- 为什么选这几个刊物？你是如何决定选择这6篇论文的？

### 2.2 内容

在开始检索前，我粗略了阅读了一些质量一般的文章的摘要，主要目的是为了获取该领域常用的关键字。在初步了解后，我在 SCI 上主要使用 3 组关键字进行检索：semantic mapping、octree large semantic 3D mapping、lidar camera semantic 3D Mapping。

在检索前设置检索时间跨度为 2016 - 2020 年，以 semantic 3D mapping 关键字为例检索结果如下：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/result_search_1.png)

因为检索结果很多，所以首先分析检索结果，选择英国、美国地区进行过滤：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/search_region.png)

在过滤地区后的检索结果中，再次对结果进行精炼选择，主要对出版物类别、文献类型、出版机构、出版物的来源这 4 项进行单独或者结合的精炼：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/search_jinglian.png)

然后对精炼后的结果进行排序，并粗略阅读论文标题，发现合适的再详细看摘要，如果确定了一篇论文，就导入 EndNote 中，作为待阅读的论文。论文查找完后，先粗略的阅读论文的摘要，引言和实验结果部分，这主要确定一篇论文是否值得精读，如果确定文章对自己有价值则进行加星标注，作为最终确定要精读的文章。

目前我研究领域热度一般，主要的研究大牛有 Julie Stephany Berrio, Jongmin Jeong 等，选择这 6 篇文章的主要标准有：会议是否为顶会、文章的方法，实验效果。

## 3 精读一篇

### 3.1 选择原因

我选择精读的是 2018 年 IROS 的文章，选择这篇精读的主要原因有 4 点：期刊影响力，摘要、方法框架、实验结果。IROS 是机器人领域的顶级会议，该文章的摘要对论文的方法框架进行了初步的介绍，文章的方法框架对我目前的研究方向非常具有借鉴意义，并且实验结果在独立的平台测试，该篇文章引用了一篇建图领域非常经典的 Octomap 建图论文，综上我选择了这篇文章进行精读。

### 3.2 Introduction

论文主要解决的问题是使用低成本稀疏的激光雷达和图像进行大范围八叉树地图构建，以此来为机器人室外导航提供环境地图。导航地图是机器人感知环境必不可少的一部分，只有构建出机器人周围的环境地图，才能实现最优路径规划、可靠的驾驶决策和准确的车辆控制导航等应用。

在以往的语义地图构建中大多采用单目 RGB-D 相机进行地图构建，这种方法存在的问题是相机产生的点云对于远距离的物体误差较大，没有直接使用激光雷达获取的点云精度高，导致最终的语义地图构建误差较大，并且使用一个独立的相机会使得系统的容错性不足，在一些恶劣的环境下，大大影响建图的效果，而基于雷达与相机的传感器融合建图则可以弥补这个缺陷。

目前的研究现状逐渐像多传感器融合方向发展，通过融合算法可以克服每一种单独感知方式的限制，同时利用它们的最佳能力，这篇文章通过融合视觉系统与 3D 雷达测距系统，使得机器人能更加全面地了解周围环境。

### 3.3 Methods

#### 3.3.1 方法框架

这篇文章采用的是经典的 Pipeline 框架，通过集成建图工作中目前用到的各种最新技术模块，一步步确定项目的技术流程管道：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_Flowchart.png)

使用的理论依据主要分为以下 X 部分。

#### 3.3.2 语义标签概率关联

为了获取语义信息，需要对图像进行语义分割，目前效果最好的方法是基于卷积神经网络来对图像进行语义分割，本文中使用提前在 Cityscapes 数据集上训练好的 E-Net 网络进行分割，分割的类别一共有 12 类：'sky'，'building'，'pole'，'road'，'undrivable road'，'vegetation'，'sign symbol'，'fence'，'vehice'，'pedestrian'，'rider'，'unlabeled'，分割的效果如下：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_CNN_ENet.png)

通过语义分割将图像中每个像素进行分类后，还需要求出每个像素分类的概率，因为最后的语义融合需要使用语义分割计算的概率分布。为此，在 CNN 分割之后，我们通过整合原始图像超像素边界与语义图像的叠加图像，以及 CNN 分割后的得分图，以此将不确定性与每个像素标签关联起来。

首先需要获得原始图像产生的超像素对每个标签的评估，超像素是一种区域分割方法，每个元素包含的像素都是根据区域间和区域内特征的相似性进行分组的，这些特征包括颜色、纹理、亮度、轮廓、曲线连续性等。每个超像素都是一个感知一致的单元，因为里面的所有像素都很可能是一致的，超像素分割算法如下：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_superpixel.png)

算法的输入是：原始图像 I、语义分割图像 Labels、期望的超像素个数 n_sp，输出是关联了不确定性的超像素概率分布图像：Spp_map。

该算法首先创建与原始图像相同大小的输出变量 SSpmap。然后采用简单的线性迭代聚类 SLIC 方法对原始图像进行分割，选择该方法是基于其速度、存储效率和遵守边界的特点，以下是 SLIC 对图像进行超像素分割的结果：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/superpixel_result.png)

下一步基于 CNN 语义分割对每个超像素评估最常见类别的百分比，它被计算并存储在输出变量的相应坐标中，输出变量 Sppmap 像素属于单一类的超像素的最大值为 1，带有多个标签的超像素会根据占主导地位的类所占据的区域有较小的值，以下是语义图像超像素分割和对应超像素概率分布的结果：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_semantic_labels.png)

接着我们需要进行第二个不确定性关联的步骤，即叠加 CNN 分割的得分图，我们对 CNN 的输出使用一个 softmax 函数来产生每个像素类别的概率分布。

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_softmax.png)

式中，theta 表示所有训练好的 CNN 参数，为了获得一个包含每个像素最大概率的分布，我们导出每个像素最大概率的类别分布：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_max_p_map.png)

P_map 的结果如下图：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_cnn_score_map.png)

最后将超像素分割的结果 Spp_map 和 CNN score map 得到的 P_map 进行整合：
$$
Smap = Pmap * Spp_{map}
$$


最终的标签概率分布 Smap 如下：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_S_map.png)

#### 3.3.3 3D 投影

在融合语义之前，需要将相机坐标系与雷达坐标系进行对齐，对雷达和相机进行外参标定，以此得到 2 者之间的旋转和平移矩阵，这是标定后 2 者的对齐效果，点云在图像上的颜色随着距离而改变：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_pointcloud_img.png)

但是标定会产生误差，这可能导致分配错误的标签，针对此问题，这篇文章提出了一种基于单个扫描环聚类的投票校正算法：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_label_correction.png)

首先，将点云 lpc 分为两部分，第一部分是通过样本 SAC 模型拟合方法提取的地平面，第二部分是所有其他障碍物。

地面 Ground_Plane_pc 初始被分配为 road 和 undrivable road 标签，由于标签在环境中的位置(同一水平面)可能属于同一簇。

在 Obstacles_pc 点云中的每个属于相同 Ring 的点，使用欧拉聚类方法对其进行聚类，每个聚类 C 中的每个点云 p 都被赋予一个投票向量 L_vote，该算法将根据其标签概率 p.prob 为每个投票设置一个权重，然后对聚类中最有可能的标签排序，投票最高的标签被分配给聚类内的所有点，最后每个处理后的聚类与初始标为 Label_pc 的地面点云连接。

#### 3.3.4 体素占有概率与标签概率

Octomap 可以为八叉树地图的每个点云生成对应的体素，并且更新占有概率。当前体素 v 的占有概率 P(v | z_1:t) 依赖于当前体素测量值 Z_t，先验概率 P(v)，和上一时刻的状态量 P(v | Z_1:t-1)，先验概率 P(v) 统一设置为 0.5。

前面的语义概率标签和 3D 投影将每个点云分类为不同标签，然后我们根据每个点云的标签 c、当前标签概率 P(c | Z_t) 和上一时刻的标签类别概率 P(C_n | Z_1_t-1) 这 3 者来更新每个体素的标签概率。

应用贝叶斯规则从上一时刻的概率分布估计当前时刻概率分布：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_bayes.png)

然后计算对立事件的后验概率：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_post_oppsite.png)

结合上面 2 式子，问题可以转换为 Binary Bayes Filter 问题：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_binary_bayes_filter.png)

最后为了加速计算，使用对数概率 log odds 来表示概率，最终的概率分布更新如下：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_log_odds.png)

为了改变体素的标签，我们需要集成许多属于同一标签的传感器读数，以确定其当前状态，最终一个体素 v 的标签取滤波后最大概率对应的标签：argmax_c[P(v, c1), P(v, c2), ..., P(v, c11)]

### 3.4 Result

#### 3.4.1 实验图表分析

本文设置 2 组实验，每组实验分别对比了 3 种语义融合方法，这里解释第一组实验，3 组语义融合方法分别为：simple projection, Projection + probability, Projection + probability + clustering：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_three_evaluation.png)

实验结果如下：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_single_scan_evaluation.png)

该表格对 3 种语义融合方法在相同的实验条件下分别进行了性能测试，横向表示在不同标签概率区间的评估条件，最后一项表示总的评估指标，纵向表示 3 种单帧的语义融合方法。实验的结果说明在增加了论文中的概率分布和聚类方法后，总体（Overall）的性能有了一定的提高。该实验在相同的条件下分别测试了 3 种不同的实验，通过对比最终的实验指标可以说明文中提出的方法具备一定的优势。

#### 3.4.2 实验组织形式

作者在实验部分设置 2 组实验，每组内部都分别对比 3 种语义融合方法，2 组之间的实验条件不同，第一组是在单帧的点云和图像上进行融合测试，第二组是在多帧连续的点云和图像进行测试。通过设置 2 组不同测试条件的实验，可以使得实验结果更具一般性，更具说服力，以下是第二组实验的表格：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_octomap_evaluation.png)

实验的结果能够说明，在不同的条件下，文章提出的新算法在性能上有一定的优势，在结论方面，作者不仅提供了实验表格，也提供了实际的建图效果，并且将新算法构建的地图与人工标注的 GroundTruth 地图进行了对比，增强了说服力，对比我自己这方面的工作，我认为这篇文章的结论比较可靠，文中的方法值得我借鉴：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_final_map.png)

#### 3.4.3 实验设计思想

这篇文章的实验主要采用的是控制变量法，即保持测试条件不变，通过改变运行的算法，来对比得出新算法相比于普通算法的提升，这种实验方法很常见，如果是在已有的算法上进行的改进，在设计实验时可以使用这种实验设计思路，不过这篇文章没有对比同类文献的效果，仅仅是文中提出的不同算法之间的对比。

#### 3.4.4 缺陷与讨论

虽然算法的效果有一定的提升，但是还是存在缺陷，影响算法的一个主要方面就是雷达和相机外参标定的精度问题，这个精度会直接影响语义地图构建的准确性，所以如何在算法中进一步考虑标定的误差是将来的一个研究方向。

#### 3.4.5 启发与思考

目前我的研究工作与这篇文章类似，只不过算法的工作环境不同，这篇文章是在城市中进行的实验，而我这是在野外环境进行测试。我目前工作的总体框架在这篇文章的基础上做了改进，修改了语义分割模块的实现，但是目前算法的效果还不是很好，主要原因是标定的精度不够，以及文中的一个聚类优化算法还没有加入我的算法中，这也是我后续准备要做的工作。

对比我的工作，在这篇文章的基础上可以增加导航功能，因为这篇文章只是单纯构建一个大范围的语义地图，并没有介绍在实际环境中使用这个地图，所以一个可以选择的方向就是把实际的应用考虑进去。

## 4 阅读多篇

### 4.1 论文结构

所找的论文结构按顺序基本都分为 5 部分：INTRODUCTION，RELATED WORK，METHOD，EXPERIMENTS，CONCLUSION，这也是常见的科研论文的写作结构，论文中基本都是先介绍方法再介绍实验，讨论部分基本都包含在 CONCLUSION 部分，这部分首先是对文章所阐述的算法进行总结，然后提出一些将来可以继续研究的方向。

### 4.2 摘要和引言

在摘要结构方面，我总结了 2 种写作结构，第一种：研究背景与目的、研究方法的简介、实验效果的总结，第二种：研究背景与目的、已有方法的步骤、改进方法的简介、实验效果的总结。基本上都是这 2 种结构或者类似，并且在方法简介部分，部分论文单独分模块进行介绍，而部分则是一段总结性的文字，就阅读体验来看，分模块写作更加适合阅读。

在引言部分，主要分为 4 个部分：研究背景与意义、研究现状与不足、论文方法的简介、论文所做工作的总结。在研究背景部分，基本都从论文所解决的问题的必要性出发，引出要解决该问题所需要的技术，进而描述现有的研究方法所做的工作，并描述不足之处。之后一般会简单介绍论文所使用方法，主要分模块介绍每个部分的功能，在引言的最后一般都总结本篇文章所做的工作，例如：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_summary.png)

### 4.3 研究方法的结构

研究方法部分一般都分模块单独介绍，在开头一般对该模块的作用做个简介，并阐述常用的方法，之后对文章采用的方法进行具体的论述。在算法部分，一般都是先介绍算法的输入输出，给出算法的伪代码，再对关键的步骤进行解释。在公式部分，一般先阐述所需公式的作用及参数含义，再给出公式或者先给公式再阐述含义。

### 4.4 结论中图表的表示

对于图片，一般先总结性地介绍实验结果图片要表达的含义，然后对每个图片单独进行详细地解释，会用类似「注意到」等词语提醒读者正在阅读关键的部分，并且在阐述最好的效果或者文章方法的效果时，会与基准方法做对比。

在格式方面，一般用较小的字号，居中对齐，如果有多幅图片，则在每个单独的图片下面进行标注，总体再进行标注，总结标注的字号要略微大一些，比如：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_fig.png)

在表格方面，也是先阐述实验表格的含义，然后对提升较大的指标进行详细的对比分析，重点介绍自己方法的优势。

### 4.5 讨论部分的结构

通常讨论部分包含在总结中，总结部分的一般分 2 段进行阐述，第一段先对文中的方法再次进行总结，并总结实验结果，在第二段主要说明当前方法还存在的不足之处，可以从多个方面进行说明，之后对不足之处提出目前可行但是还没有尝试的解决方法，以此作为将来可以继续完善的工作。

### 4.6 参考文献的区别

我选择的这几篇文章的参考文献基本都是使用下面这种格式，在 EndNote 中有对应的格式：

![](https://dlonng.oss-cn-shenzhen.aliyuncs.com/blog/IROS_references.png)

### 4.7 语法时态的规律

摘要一般用现在时。引言部分描述目前的研究进展一般用现在时，如果描述过去做的实验等用过去时，描述自己的工作用现在时。相关研究部分对于其他作者的研究工作一般用现在时描述。方法描述部分如果用到一些已有的方法，在对这些方法介绍时使用过去时，其他的一般描述使用现在时。实验结果部分因为是过去做的实验，所以一般用过去时态描述实验过程和结。最后在总结部分如果是对文章的总结用现在时，对实验结果的分析使用过去时，对于将来可以改进的建议，使用将来时。

在一段话中可以存在多个时态，比如总结部分，可以先用现在时总结文章的方法，然后使用过去时态描述自己实验结果的性能提升，再用将来时提出将来可以改进的方向。

### 4.8 写类似论文的思路

因为之前没有写过小论文，所以顶会论文的写作方法对自己很有帮助，如果目前我来写语义地图主题的论文，本着科学严谨的态度，我会先从理论和实验入手，把论文要介绍的方法在理论和实验中进行验证，在确定了方法具有一定的提升后，再学习顶会论文的写作结构和语言风格，一步步写自己的论文。

我觉得一篇论文最重要的是要有东西可以写，也就是自己要真正能从理论上或者实验中验证自己提出的新方法有提升和创新点，只有找到可以写的点，再围绕着这个点进行展开，这样论文写作才能按部就班的写下去，如果什么都没有做，对自己提出的方法都不是很了解，就开始写论文，往往会陷入不知道下一步该写什么的状况，这样不仅效率低下，而且最后的成果也不一定能被审稿人认可。

因此我的总体写作路线是：做实验验证自己的方法，学习顶会写作结构，写论文。

## 5 总结

通过文献检索课程，我基本了解了科研的流程，并用到目前的科研中，导师给出一个课题，我能够按照课上介绍的方法一步步检索，查找到关键的论文，然后阅读最终找到可以使用的方法，整个课程对我的帮助很大，一个有效率的科研方法比重复的耗时间找论文效率要高很多，谢谢吴老师一学期的付出。