# 语义地图构建工作计划

## 一、查资料

### 1.1 Paper

项目相关的几篇大范围语义建图的论文。

### 1.2 Github

- octomap_server
- semantic_slam

## 二、确定技术路线与框架

### 2.1 雷达相机标定

Autoware

### 2.2 语义分割

LED-Net

### 2.3 语义融合

- 递归 Bayes 更新
- 最大概率更新

### 2.4 局部地图构建

- 空间方法
- 时间方法

### 2.5 全局地图构建

- octomap_generator

### 2.6 地图细化

- 点云滤波
- 融合误差最小化：聚类 + 分类
- 去除运动轨迹

## 三、分模块编程实现

### 3.0 雷达相机联合标定

- 需要提高标定精度

### 3.1 语义融合节点

- 单独用 C++ 实现
  - 订阅 image_raw、semantic_img、confidences
  - 发布 semantic_cloud_max[bayes]
- 在语义分割节点中用 Python 实现（semantic_cloud 的方法）
  - 订阅 image_raw、rslidar_points
  - 发布 semantic_cloud_max[bayes]

### 3.2 地图构建节点

- octomap_generator
- 局部地图构建问题
  - 删除或不显示走过的空间节点
  - 给每个节点设置定时器，超时即删除，或者不显示



## 之前的记录

### 雷达相机标定

- 相机内参标定 - ok
- 雷达相机联合标定 - ok

### 图像点云数据融合

- 数据预处理
- lidar_camera_fusion
- 点云分割，融合误差最小化？
- 递归贝叶斯语义融合是在单帧中做？还是要修改八叉树库的数据节点？
- 融合 Alpha 通道作为 label 的不确定性概率？
- 标签概率的不确定性？
- 语义分割会返回每个像素的 label score？

### 八叉树地图构建

- octomap 库
- octomap_server 建图包
-  [pcl_outofcore](https://pointclouds.org/documentation/group__outofcore.html)
